count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip() %>%
e_labels()
tabela
tabela
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
dados
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute'))
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip() %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip() %>%
e_labels()
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
count(Hora, name = 'Total') %>%
collect() %>%
filter(!is.na(Hora))
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = '1 min') %>% floor_date('1 minute')
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date('1 minute')) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = by) %>% floor_date(by)
by = '30 seconds'
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = by) %>% floor_date(by)
by = '30 sec'
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = by) %>% floor_date(by)
by = '30 sec'
minutos = seq.POSIXt(from = min(dados$Hora), to = max(dados$Hora), by = by) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
tabela %>%
filter(Hora >= '2023-11-09 01')
tabela %>%
filter(Minuto >= '2023-11-09 01')
tabela %>%
filter(Minuto >= '2023-11-09 01:00:00')
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
dados
by = '30 sec'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '30 sec'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '30 sec'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '30 sec'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '30 sec'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
by = '1 min'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 00:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '1 min'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 01:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
library(vituripackage)
con = argusinterno::conexao_mariadb('Analytics')
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 11:30:00') %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '1 min'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 11:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 11:30:00') %>%
mutate(Hora = Hora_alarme_br) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '1 min'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 11:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 11:30:00') %>%
mutate(Hora = Hora_alarme_br) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '1 min'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 11:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 11:30:00') %>%
# mutate(Hora = Hora_alarme_br) %>%
mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '1 min'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 11:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
dados =
tbl(con, 'Eventos') %>%
filter(Hora_alarme_br >= '2023-11-09 11:30:00') %>%
mutate(Hora = Hora_alarme_br) %>%
# mutate(Hora = Hora_chegada_alarme) %>%
select(Hora) %>%
collect() %>%
filter(!is.na(Hora))
by = '1 min'
minutos = seq.POSIXt(
from = min(dados$Hora)
, to = max(dados$Hora)
, by = by
) %>% floor_date(by)
tabela =
dados %>%
mutate(Minuto = Hora %>% floor_date(by)) %>%
count(Minuto, name = 'Total') %>%
# summarise(Total = sum(Total), .by = Minuto) %>%
complete(Minuto = minutos, fill = list(Total = 0))
tabela %>%
filter(Minuto >= ymd_hms('2023-11-09 11:00:00')) %>%
e_charts(Minuto) %>%
e_bar(Total) %>%
e_tooltip('axis') %>%
e_labels()
